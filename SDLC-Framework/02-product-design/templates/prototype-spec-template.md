# 产品原型规格 (Prototype Specification)

> **项目**: [项目名称]
> **版本**: 1.0
> **最后更新**: [日期]

---

## 原型概述

本文档详细描述产品的交互原型，包括页面跳转逻辑、交互状态、动画效果和错误处理流程。

---

## 页面规格

### 页面 1: 登录页面 (Login)

**URL**: `/login`

**布局**:
```
┌─────────────────────────────────────┐
│          [Logo / 品牌名]           │
├─────────────────────────────────────┤
│                                     │
│         [登录表单区域]              │
│                                     │
│    用户名: [___________]            │
│    密码:   [___________]            │
│                                     │
│    [    登录按钮    ] [忘记密码?]   │
│                                     │
│         还没有账号? [注册]          │
│                                     │
└─────────────────────────────────────┘
```

**交互元素**:

| 元素 | 类型 | 状态 | 说明 |
|------|------|------|------|
| 用户名输入框 | Input | 启用 | 支持邮箱/手机号输入 |
| 密码输入框 | Input | 启用 | 支持密码显示/隐藏切换 |
| 登录按钮 | Button | 启用 | 点击后提交表单 |
| 忘记密码链接 | Link | 启用 | 跳转到密码重置页面 |
| 注册链接 | Link | 启用 | 跳转到注册页面 |

**状态定义**:

#### 初始状态
- 登录按钮: 可点击
- 输入框: 可编辑
- 错误提示: 隐藏

#### 提交中状态
- 登录按钮: 禁用，显示"登录中..."
- 输入框: 禁用
- 按钮图标: 显示加载动画

#### 成功状态
- 登录按钮: 显示"成功 ✓"
- 停留 1 秒后自动跳转到仪表板

#### 错误状态
- 登录按钮: 恢复可点击
- 错误提示: 显示在表单顶部
- 错误字段: 边框变红并闪烁

**验证规则**:
- 用户名: 必填，格式验证（邮箱或手机号）
- 密码: 必填，最少 6 位

**页面跳转**:
- 登录成功 → `/dashboard`
- 点击注册 → `/register`
- 点击忘记密码 → `/reset-password`

---

### 页面 2: 仪表板 (Dashboard)

**URL**: `/dashboard`

**布局**:
```
┌────────────────────────────────────────────────────────┐
│ [Logo]  首页 | 功能1 | 功能2 | 设置     [用户▼] [退出]│
├────────────────────────────────────────────────────────┤
│                                                     │
│  ┌─────────────────────────────────────────────┐    │
│  │           统计卡片区域                      │    │
│  │  [卡片1]  [卡片2]  [卡片3]  [卡片4]       │    │
│  └─────────────────────────────────────────────┘    │
│                                                     │
│  ┌─────────────────────────────────────────────┐    │
│  │           图表区域                          │    │
│  │  [主图表]            [副图表]             │    │
│  └─────────────────────────────────────────────┘    │
│                                                     │
│  ┌─────────────────────────────────────────────┐    │
│  │           数据列表区域                      │    │
│  │  [表格/列表]                               │    │
│  └─────────────────────────────────────────────┘    │
│                                                     │
└────────────────────────────────────────────────────────┘
```

**交互元素**:

| 元素 | 类型 | 交互说明 |
|------|------|----------|
| 统计卡片 | Card | 悬停显示详细信息，点击跳转到详细页面 |
| 图表 | Chart | 支持缩放、导出、时间范围选择 |
| 数据列表 | Table | 支持排序、筛选、分页 |
| 导出按钮 | Button | 点击导出当前数据 |

**动态行为**:
- 页面加载时显示加载动画
- 数据加载失败显示错误提示和重试按钮
- 统计数据每 30 秒自动刷新

---

### 页面 3: 数据列表页 (Data List)

**URL**: `/[resource]/list`

**组件规格**:

#### 工具栏

```html
<div class="toolbar">
  <div class="toolbar-left">
    <button class="btn btn-primary">新增</button>
    <button class="btn">批量删除</button>
    <button class="btn">导出</button>
  </div>
  <div class="toolbar-right">
    <input type="text" class="input" placeholder="搜索...">
    <button class="btn">搜索</button>
  </div>
</div>
```

**交互逻辑**:
- 新增按钮 → 打开新增模态框
- 批量删除 → 选中项进行删除操作
- 导出按钮 → 导出当前筛选后的数据
- 搜索框 → 实时搜索，延迟 500ms 执行

#### 数据表格

**列定义**:

| 列名 | 宽度 | 对齐 | 排序 | 筛选 |
|------|------|------|------|------|
| 选择框 | 50px | 居中 | - | - |
| ID | 80px | 居左 | ✓ | - |
| 名称 | 200px | 居左 | ✓ | 文本 |
| 状态 | 100px | 居中 | ✓ | 下拉 |
| 创建时间 | 150px | 居中 | ✓ | 日期 |
| 操作 | 150px | 居中 | - | - |

**行操作**:
- 编辑 → 打开编辑模态框
- 删除 → 显示确认对话框
- 更多 → 显示下拉菜单（查看、复制、移动等）

**行状态**:
- 悬停行 → 高亮显示
- 选中行 → 改变背景色
- 新增行 → 闪烁动画

---

## 交互模式

### 1. 模态框 (Modal)

**用途**: 表单填写、确认对话框、详细信息展示

**规格**:
```html
<div class="modal-overlay">
  <div class="modal">
    <div class="modal-header">
      <h3>模态框标题</h3>
      <button class="close-btn">✕</button>
    </div>
    <div class="modal-body">
      <!-- 表单或内容 -->
    </div>
    <div class="modal-footer">
      <button class="btn">取消</button>
      <button class="btn btn-primary">确定</button>
    </div>
  </div>
</div>
```

**交互行为**:
- 打开动画: 淡入 + 从下往上滑入（300ms）
- 关闭方式:
  - 点击 × 按钮
  - 点击遮罩层
  - 按 ESC 键
- 关闭动画: 淡出 + 向下缩放（200ms）

### 2. 消息提示 (Toast)

**规格**:
```html
<div class="toast toast-success">
  <span class="toast-icon">✓</span>
  <span class="toast-message">操作成功</span>
  <button class="toast-close">✕</button>
</div>
```

**类型**:
- 成功: 绿色背景，自动消失（3秒）
- 错误: 红色背景，需手动关闭
- 警告: 黄色背景，自动消失（5秒）
- 信息: 蓝色背景，自动消失（3秒）

**位置**: 右上角，距离顶部 20px

### 3. 确认对话框 (Confirm Dialog)

**用途**: 删除确认、重要操作确认

**规格**:
```
┌─────────────────────────┐
│      确认删除          │
├─────────────────────────┤
│                         │
│   确定要删除此项目吗？   │
│   此操作不可撤销。       │
│                         │
├─────────────────────────┤
│    [取消]    [确定]     │
└─────────────────────────┘
```

**交互行为**:
- 打开动画: 淡入 + 缩放（200ms）
- 背景模糊: 遮罩层背景模糊处理
- 焦点管理: 打开时自动聚焦到取消按钮

### 4. 下拉菜单 (Dropdown)

**触发方式**: 点击触发

**规格**:
```
┌─────────────┐
│   用户 ▼    │
└─────────────┘
      ↓
┌─────────────┐
│  个人资料    │
│  设置       │
│  ─────────  │
│  退出登录    │
└─────────────┘
```

**交互行为**:
- 打开动画: 向下展开（150ms）
- 关闭方式:
  - 选择菜单项
  - 点击外部
  - 按 ESC 键
- 高亮当前项: 鼠标悬停高亮

---

## 动画效果

### 过渡动画

| 场景 | 效果 | 时长 | 缓动函数 |
|------|------|------|----------|
| 页面切换 | 淡入 | 200ms | ease-in-out |
| 模态框打开 | 向上滑入 + 淡入 | 300ms | cubic-bezier(0.34, 1.56, 0.64, 1) |
| 模态框关闭 | 向下缩放 + 淡出 | 200ms | ease-in |
| 折叠面板展开 | 向下滑动 | 250ms | ease-out |
| 折叠面板收起 | 向上滑动 | 200ms | ease-in |

### 加载动画

**类型**:
1. **旋转加载器** (Spinner)
   - 用途: 按钮加载、小区域加载
   - 规格: 40px 圆形旋转

2. **进度条** (Progress Bar)
   - 用途: 文件上传、长时间操作
   - 规格: 宽度 200px，高度 6px

3. **骨架屏** (Skeleton Screen)
   - 用途: 内容加载占位
   - 规格: 灰色矩形 + 闪烁动画

---

## 错误处理

### 表单验证错误

**实时验证**:
- 失去焦点时验证
- 输入时延迟 500ms 验证
- 提交时验证所有字段

**错误提示**:
- 字段下方显示错误消息
- 错误字段边框变红
- 错误消息显示图标

**示例**:
```
用户名: [__________________]
        ✕ 用户名不能为空
```

### 网络错误

**处理流程**:
1. 显示错误提示
2. 提供重试按钮
3. 记录错误日志

**提示消息**:
```
┌─────────────────────────────────┐
│  ❌ 网络请求失败                │
│  请检查网络连接后重试            │
│         [重试]    [关闭]         │
└─────────────────────────────────┘
```

### 服务器错误

**处理流程**:
1. 显示友好的错误消息
2. 显示错误编号（用于追踪）
3. 提供返回首页按钮

**页面**:
```
┌─────────────────────────────────┐
│                                 │
│          😢 出错了              │
│                                 │
│      服务器暂时无法响应          │
│      错误编号: 500-001           │
│                                 │
│         [返回首页]               │
│                                 │
└─────────────────────────────────┘
```

---

## 响应式设计

### 断点

| 设备 | 屏幕宽度 | 布局调整 |
|------|----------|----------|
| 手机 | < 768px | 单栏布局，隐藏侧边栏，底部导航 |
| 平板 | 768px - 1024px | 紧凑布局，调整间距 |
| 桌面 | > 1024px | 标准布局 |

### 移动端适配

**导航**:
- 桌面: 顶部水平导航
- 移动: 汉堡菜单 + 抽屉式侧边栏

**表格**:
- 桌面: 完整表格
- 移动: 卡片式列表

**模态框**:
- 桌面: 居中固定宽度
- 移动: 全屏，从底部滑入

---

## 可访问性

### 键盘导航

- Tab 键: 按顺序聚焦可交互元素
- Shift + Tab: 反向聚焦
- Enter/Space: 激活聚焦元素
- ESC: 关闭模态框、下拉菜单

### 焦点管理

- 可见元素: 蓝色轮廓线
- 跳转到主内容: 提供"跳到主内容"链接
- 模态框打开: 焦点移到模态框内第一个元素
- 模态框关闭: 焦点返回触发元素

### 屏幕阅读器

- 图标按钮: 提供 aria-label
- 表单字段: 关联 label 或 aria-label
- 错误提示: aria-live 区域
- 加载状态: aria-busy="true"

---

## 相关文档

- 线框图: `docs/design/wireframes/`
- 用户流程: `docs/design/user-flow.md`
- 设计系统: `docs/design/design-system.md`
