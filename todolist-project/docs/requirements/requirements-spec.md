# 需求规格说明书: TodoList 待办事项管理系统

> **文档信息**
> - 版本: 1.0
> - 创建日期: 2026-01-26
> - 作者: 产品经理
> - 状态: 草稿 | 评审中 | 已批准

---

## 文档修订历史

| 版本 | 日期 | 作者 | 修订说明 | 审批人 |
|------|------|------|----------|--------|
| 1.0  | 2026-01-26 | 产品经理 | 初始版本 | 待审批 |

---

## 1. 项目概览

### 1.1 项目名称
TodoList 待办事项管理系统

### 1.2 项目背景
TodoList 待办事项管理系统是一个用于演示 SDLC（软件开发生命周期）框架的示例应用程序。该系统旨在展示从需求分析到部署的完整软件开发流程，为开发团队提供一个标准化的项目管理参考实例。作为教育性质的演示项目，它将采用 Spring Boot 3.2.0 和 MySQL 数据库，构建一个功能完整、架构清晰的 RESTful API 应用。

### 1.3 项目目标
- **教育目标**: 演示完整的 SDLC 流程，包括需求分析、设计、开发、测试、部署和运维
- **技术目标**: 构建一个基于 Spring Boot 的 RESTful API 应用，展示标准的企业级应用架构
- **质量目标**: 代码符合规范，测试覆盖率 >= 80%，文档完整
- **时间目标**: 在 4 周内完成 MVP（最小可行产品）开发和部署

### 1.4 项目范围

**包含**:
- 用户注册和登录功能（基于用户名/密码）
- 待办事项的 CRUD 操作（创建、读取、更新、删除）
- 待办事项属性管理：标题、描述、状态、优先级、截止日期
- 分类/标签管理功能
- 待办事项的搜索和过滤功能
- RESTful API 设计和实现
- MySQL 数据库设计和 Flyway 数据库迁移
- 基础的用户权限管理（用户只能管理自己的待办事项）
- API 文档（使用 Swagger/OpenAPI）

**不包含**:
- 实时通知功能
- 社交分享功能
- 高级报表和数据分析
- 移动端原生应用
- 多租户支持
- 第三方集成（如日历同步）
- 国际化支持

---

## 2. 背景和上下文

### 2.1 业务问题
在软件开发过程中，团队需要一个标准的、完整的示例项目来演示和教学 SDLC 框架的使用。现有的示例项目往往功能过于简单或文档不完整，无法展示真实项目开发的完整流程。

### 2.2 当前状态
- 拥有 ruoyi-example 项目作为参考
- 已建立 SDLC 框架和文档模板
- 开发团队熟悉 Spring Boot 和 MySQL 技术栈
- 缺少完整的、端到端的项目演示实例

### 2.3 期望状态
- 拥有一个功能完整、文档齐全的示例应用
- 展示从需求分析到部署的完整流程
- 为团队提供可复用的项目模板和最佳实践
- 作为未来项目的参考基准

### 2.4 业务价值
- **收益**: 提供一个实用的待办事项管理工具，可作为教学和演示的基础
- **成本节约**: 通过标准化流程减少项目启动时间和学习成本
- **效率提升**: 为团队提供清晰的开发流程和文档模板，提高开发效率
- **风险降低**: 通过示例项目降低新项目的实施风险

---

## 3. 干系人

### 3.1 主要干系人

| 角色 | 姓名 | 职责 | 关注点 |
|------|------|------|--------|
| 产品负责人 | 待定 | 需求定义、优先级管理 | 功能完整性、用户体验、项目价值 |
| 技术负责人 | 待定 | 技术架构、开发指导 | 技术可行性、代码质量、系统性能 |
| 开发工程师 | 待定 | 功能开发、单元测试 | 开发效率、技术实现、代码规范 |
| 测试工程师 | 待定 | 测试计划、质量保证 | 测试覆盖率、缺陷发现、系统稳定性 |

### 3.2 次要干系人

| 角色 | 姓名 | 职责 | 关注点 |
|------|------|------|--------|
| 运维工程师 | 待定 | 部署运维 | 可维护性、监控、日志 |
| 文档编写者 | 待定 | 文档维护 | 文档完整性、可读性 |

### 3.3 用户角色

| 用户角色 | 描述 | 典型用户 | 使用频率 |
|----------|------|----------|----------|
| 注册用户 | 系统的注册用户，可以创建和管理待办事项 | 个人用户、团队成员 | 每日 |
| 访客 | 未注册用户，只能查看公开的待办事项（如有） | 普通访客 | 偶尔 |

---

## 4. 功能需求

### FR-001: 用户注册和登录

**描述**: 用户能够注册新账户并使用用户名和密码登录系统

**用户故事**: 作为新用户，我想要注册一个账户，以便于使用待办事项管理功能

**功能详情**:
1. 用户注册：输入用户名、密码和确认密码
2. 用户名唯一性验证
3. 密码复杂度要求（至少 8 位，包含字母和数字）
4. 用户登录：输入用户名和密码进行身份验证
5. 登录状态管理（基于 JWT Token）
6. 密码加密存储（使用 BCrypt）

**验收标准**:
- [ ] 用户可以使用符合要求的用户名和密码成功注册
- [ ] 系统拒绝重复的用户名注册
- [ ] 系统拒绝不符合复杂度要求的密码
- [ ] 用户可以使用正确的用户名和密码成功登录
- [ ] 用户登录后获得有效的 JWT Token
- [ ] 系统拒绝错误的用户名或密码登录
- [ ] 密码在数据库中以加密形式存储

**优先级**: P0

**依赖**:
- 数据库用户表设计
- JWT 工具类

**备注**: 这是系统的核心功能，必须在 MVP 中实现

---

### FR-002: 创建待办事项

**描述**: 已登录用户可以创建新的待办事项

**用户故事**: 作为注册用户，我想要创建待办事项，以便于记录和管理我的任务

**功能详情**:
1. 输入待办事项标题（必填，1-200 字符）
2. 输入待办事项描述（可选，最多 1000 字符）
3. 选择优先级（高、中、低）
4. 设置截止日期（可选）
5. 选择分类/标签（可选，支持多选）
6. 默认状态为"待处理"
7. 待办事项自动关联到当前登录用户

**验收标准**:
- [ ] 用户可以输入必填字段创建待办事项
- [ ] 系统验证标题长度限制
- [ ] 系统验证描述长度限制
- [ ] 用户可以选择优先级
- [ ] 用户可以设置截止日期
- [ ] 用户可以选择多个分类/标签
- [ ] 创建的待办事项自动关联到当前用户
- [ ] 创建成功后返回待办事项的完整信息（包括 ID）
- [ ] 系统拒绝未登录用户的创建请求

**优先级**: P0

**依赖**:
- FR-001: 用户注册和登录
- FR-006: 分类/标签管理

**备注**: 核心功能，待办事项的基本单元

---

### FR-003: 查询待办事项

**描述**: 用户可以查看自己的待办事项列表，支持搜索和过滤

**用户故事**: 作为注册用户，我想要查看我的待办事项列表，以便于了解当前的任务状态

**功能详情**:
1. 查看所有待办事项（分页）
2. 按状态过滤（全部、待处理、已完成）
3. 按优先级过滤（高、中、低）
4. 按截止日期过滤（今天、本周、本月、已过期）
5. 按分类/标签过滤
6. 按标题和描述搜索（模糊匹配）
7. 支持排序（创建时间、截止日期、优先级）
8. 只显示当前登录用户的待办事项

**验收标准**:
- [ ] 用户可以查看自己的待办事项列表
- [ ] 系统默认按创建时间倒序排列
- [ ] 用户可以按状态过滤待办事项
- [ ] 用户可以按优先级过滤待办事项
- [ ] 用户可以按截止日期过滤待办事项
- [ ] 用户可以按分类/标签过滤待办事项
- [ ] 用户可以搜索标题和描述
- [ ] 用户可以改变排序方式
- [ ] 用户无法查看其他用户的待办事项
- [ ] 列表支持分页（默认每页 20 条）

**优先级**: P0

**依赖**:
- FR-001: 用户注册和登录
- FR-002: 创建待办事项

**备注**: 核心功能，用户最常使用的功能

---

### FR-004: 更新待办事项

**描述**: 用户可以修改已创建的待办事项

**用户故事**: 作为注册用户，我想要编辑待办事项，以便于更新任务信息

**功能详情**:
1. 修改标题
2. 修改描述
3. 修改优先级
4. 修改截止日期
5. 修改分类/标签
6. 只能修改自己的待办事项

**验收标准**:
- [ ] 用户可以修改待办事项的所有字段
- [ ] 系统验证字段长度限制
- [ ] 用户只能修改自己的待办事项
- [ ] 系统拒绝修改不存在的待办事项
- [ ] 系统拒绝修改其他用户的待办事项
- [ ] 更新成功后返回最新的待办事项信息
- [ ] 系统记录更新时间

**优先级**: P0

**依赖**:
- FR-001: 用户注册和登录
- FR-002: 创建待办事项

**备注**: 核心功能

---

### FR-005: 删除待办事项

**描述**: 用户可以删除不需要的待办事项

**用户故事**: 作为注册用户，我想要删除待办事项，以便于清理已完成或取消的任务

**功能详情**:
1. 软删除（标记为已删除，不物理删除）
2. 只能删除自己的待办事项
3. 支持批量删除

**验收标准**:
- [ ] 用户可以删除自己的待办事项
- [ ] 系统拒绝删除不存在的待办事项
- [ ] 系统拒绝删除其他用户的待办事项
- [ ] 删除的待办事项不再出现在列表中
- [ ] 支持批量删除多个待办事项
- [ ] 系统记录删除时间

**优先级**: P0

**依赖**:
- FR-001: 用户注册和登录
- FR-002: 创建待办事项

**备注**: 核心功能

---

### FR-006: 完成/取消完成待办事项

**描述**: 用户可以将待办事项标记为已完成或未完成

**用户故事**: 作为注册用户，我想要标记待办事项的完成状态，以便于跟踪任务进度

**功能详情**:
1. 将待处理事项标记为已完成
2. 将已完成事项标记为待处理
3. 只能操作自己的待办事项
4. 系统记录完成时间

**验收标准**:
- [ ] 用户可以将待办事项标记为已完成
- [ ] 用户可以将待办事项标记为待处理
- [ ] 系统记录状态变更时间
- [ ] 用户只能操作自己的待办事项
- [ ] 系统拒绝操作不存在的待办事项
- [ ] 系统拒绝操作其他用户的待办事项

**优先级**: P0

**依赖**:
- FR-001: 用户注册和登录
- FR-002: 创建待办事项

**备注**: 核心功能

---

### FR-007: 分类/标签管理

**描述**: 用户可以创建和管理分类/标签，用于组织待办事项

**用户故事**: 作为注册用户，我想要创建分类和标签，以便于更好地组织我的任务

**功能详情**:
1. 创建分类/标签（名称、颜色）
2. 查看所有分类/标签
3. 修改分类/标签
4. 删除分类/标签
5. 分类/标签名称唯一性（同一用户下）
6. 分类/标签只能由创建者管理

**验收标准**:
- [ ] 用户可以创建分类/标签
- [ ] 分类/标签名称在用户范围内唯一
- [ ] 系统验证分类/标签名称长度（1-50 字符）
- [ ] 用户可以选择颜色标识
- [ ] 用户可以查看自己的分类/标签列表
- [ ] 用户可以修改分类/标签
- [ ] 用户可以删除未使用的分类/标签
- [ ] 删除分类/标签时自动解除与待办事项的关联

**优先级**: P1

**依赖**:
- FR-001: 用户注册和登录

**备注**: 重要功能，提升组织能力

---

### FR-008: 个人信息管理

**描述**: 用户可以查看和修改个人信息

**用户故事**: 作为注册用户，我想要管理我的个人信息，以便于保持账户信息的准确性

**功能详情**:
1. 查看个人信息（用户名、注册时间）
2. 修改密码
3. 修改密码时需要验证旧密码

**验收标准**:
- [ ] 用户可以查看个人信息
- [ ] 用户可以修改密码
- [ ] 修改密码时需要验证旧密码
- [ ] 新密码必须符合复杂度要求
- [ ] 修改密码成功后需要重新登录

**优先级**: P1

**依赖**:
- FR-001: 用户注册和登录

**备注**: 基础功能，提升用户体验

---

## 5. 非功能需求

### 5.1 性能要求

| 指标 | 要求 | 测量方法 |
|------|------|----------|
| API 响应时间 | <= 500ms (95分位) | APM 监控 |
| 数据库查询时间 | <= 100ms (95分位) | 慢查询日志 |
| 并发用户 | >= 50 用户 | 压力测试 |
| 列表分页加载 | <= 300ms | 性能测试 |
| 用户登录响应 | <= 1s | 性能测试 |

**备注**: 作为演示项目，性能要求相对较低，但仍需保证基本的响应速度

### 5.2 安全要求

**认证**:
- [ ] 基于 JWT 的身份认证
- [ ] Token 过期机制（默认 24 小时）
- [ ] 密码复杂度要求（至少 8 位，包含字母和数字）
- [ ] 密码使用 BCrypt 加密存储
- [ ] 登录失败次数限制（5 次后锁定 30 分钟）

**授权**:
- [ ] 基于用户的数据隔离（用户只能访问自己的数据）
- [ ] API 接口权限验证
- [ ] 防止越权访问

**数据安全**:
- [ ] 密码字段加密存储
- [ ] API 传输层加密（支持 HTTPS）
- [ ] SQL 注入防护（使用参数化查询）
- [ ] XSS 防护（输入验证和输出转义）
- [ ] CSRF 防护（Token 验证）

**审计**:
- [ ] 记录关键操作日志（创建、更新、删除）
- [ ] 记录登录/登出日志

### 5.3 可用性要求

| 指标 | 要求 |
|------|------|
| 系统可用性 | >= 99% (演示项目标准) |
| 计划内停机 | < 4小时/月 |
| 故障恢复时间 | < 2小时 |
| 数据备份 | 每日自动备份 |

### 5.4 可维护性要求

- [ ] 代码符合阿里巴巴 Java 开发规范
- [ ] 单元测试覆盖率 >= 80%
- [ ] API 接口文档完整（使用 Swagger/OpenAPI）
- [ ] 代码注释率 >= 30%（核心类）
- [ ] 日志记录规范（使用 Slf4j）
- [ ] 统一的异常处理机制
- [ ] 统一的响应格式

### 5.5 兼容性要求

**浏览器兼容**:
- [ ] Chrome (最新版本及前 2 个版本)
- [ ] Firefox (最新版本及前 2 个版本)
- [ ] Safari (最新版本及前 2 个版本)
- [ ] Edge (最新版本及前 2 个版本)

**设备兼容**:
- [ ] PC (1920x1080 及以上)
- [ ] 平板 (768x1024)
- [ ] 移动设备 (375x667)

**系统兼容**:
- [ ] JDK 17+
- [ ] MySQL 8.0+
- [ ] Spring Boot 3.2.0

### 5.6 可扩展性要求

- [ ] 使用分层架构（Controller-Service-Repository）
- [ ] 使用依赖注入（IoC）
- [ ] 使用配置文件管理（application.yml）
- [ ] 预留扩展接口（如未来可能添加的用户角色、权限等）

---

## 6. 约束条件

### 6.1 技术约束
- [ ] 必须使用 Spring Boot 3.2.0
- [ ] 必须使用 Java 17
- [ ] 必须使用 MySQL 8.0+ 数据库
- [ ] 必须使用 Flyway 进行数据库迁移
- [ ] 必须使用 Spring Security 进行安全控制
- [ ] 必须使用 JWT 进行身份认证
- [ ] 代码结构参考 ruoyi-example 项目
- [ ] 遵循 RESTful API 设计规范

### 6.2 预算约束
- [ ] 开发预算: 演示项目，无货币预算
- [ ] 时间预算: 4 周 MVP 开发周期

### 6.3 时间约束
- [ ] 项目启动: 2026-01-26
- [ ] 需求分析完成: 2026-01-30
- [ ] 设计完成: 2026-02-05
- [ ] MVP 交付: 2026-02-23
- [ ] 正式上线: 2026-02-28

### 6.4 法规约束
- [ ] 遵守软件开发相关法律法规
- [ ] 用户数据保护（虽然是演示项目，但仍需保护用户密码等敏感信息）
- [ ] 开源许可证合规（如使用开源组件需遵守相应许可证）

### 6.5 资源约束
- [ ] 开发团队规模: 小型演示项目
- [ ] 服务器资源: 单机部署，资源有限
- [ ] 数据库容量: 演示级别，不需要考虑大规模数据

---

## 7. 成功标准

### 7.1 关键绩效指标 (KPIs)

| 指标 | 目标值 | 测量方法 |
|------|--------|----------|
| 功能完整性 | 100% (P0 需求) | 需求追踪矩阵 |
| 代码质量 | 符合规范 | 代码审查 |
| 单元测试覆盖率 | >= 80% | 测试报告 |
| API 文档完整性 | 100% | Swagger 检查 |
| 代码审查通过率 | 100% | 审查记录 |

### 7.2 业务指标

| 指标 | 基线 | 目标值 |
|------|------|--------|
| SDLC 流程演示完整性 | 0% | 100% |
| 文档完整性 | 0% | 100% |
| 代码可复用性 | N/A | 高 |

### 7.3 技术指标

| 指标 | 目标值 | 测量方法 |
|------|--------|----------|
| API 响应时间 | <= 500ms | 性能测试 |
| 数据库查询效率 | <= 100ms | 慢查询日志 |
| 代码规范符合率 | 100% | 代码审查 |
| 安全漏洞数 | 0 | 安全扫描 |

### 7.4 教育指标

| 指标 | 目标值 | 测量方法 |
|------|--------|----------|
| 文档可读性 | 高 | 用户反馈 |
| 示例代码质量 | 优秀 | 代码审查 |
| 最佳实践展示 | 全面 | 审查检查清单 |

---

## 8. 风险和假设

### 8.1 已识别风险

| 风险 | 概率 | 影响 | 缓解策略 | 负责人 |
|------|------|------|----------|--------|
| 需求变更导致范围蔓延 | 中 | 中 | 明确项目范围，严格控制变更 | 产品负责人 |
| 技术选型不当 | 低 | 高 | 使用成熟技术栈，参考已有项目 | 技术负责人 |
| 开发进度延期 | 中 | 中 | 采用敏捷开发，每日站会跟踪进度 | 技术负责人 |
| 测试覆盖率不足 | 中 | 中 | 强制要求单元测试，代码审查 | 测试工程师 |
| 文档不完整 | 中 | 低 | 使用模板强制文档编写 | 产品经理 |

### 8.2 假设条件

| 假设 | 验证方法 | 验证时间 |
|------|----------|----------|
| 开发团队熟悉 Spring Boot | 团队技能评估 | 项目启动时 |
| MySQL 数据库环境可用 | 环境检查 | 项目启动时 |
| 开发工具和 IDE 可用 | 环境检查 | 项目启动时 |
| 参考项目 ruoyi-example 可访问 | 代码检查 | 需求分析阶段 |
| 4 周时间足够完成 MVP | 迭代规划确认 | 项目启动时 |
| 演示项目不需要考虑高并发 | 需求确认 | 需求分析阶段 |

---

## 9. 附录

### 9.1 术语表

| 术语 | 定义 |
|------|------|
| MVP | Minimum Viable Product，最小可行产品 |
| JWT | JSON Web Token，用于身份验证的令牌 |
| RESTful API | 符合 REST 架构风格的 API 设计 |
| CRUD | Create, Read, Update, Delete，增删改查操作 |
| BCrypt | 一种密码哈希算法 |
| Flyway | 数据库迁移工具 |
| Swagger | API 文档生成工具 |
| SDLC | Software Development Life Cycle，软件开发生命周期 |

### 9.2 参考文档

- Spring Boot 官方文档: https://spring.io/projects/spring-boot
- Spring Security 参考指南: https://docs.spring.io/spring-security/
- RESTful API 设计指南: https://restfulapi.net/
- 阿里巴巴 Java 开发规范
- ruoyi-example 项目代码

### 9.3 相关文档

- 用户故事: `docs/requirements/user-stories.md`
- 验收标准: `docs/requirements/acceptance-criteria.md`
- 干系人分析: `docs/requirements/stakeholders.md`

---

## 批准

| 角色 | 姓名 | 签名 | 日期 |
|------|------|------|------|
| 产品负责人 | | | |
| 技术负责人 | | | |
| 业务代表 | | | |
